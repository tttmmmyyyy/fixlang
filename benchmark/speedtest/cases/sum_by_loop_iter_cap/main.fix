module Main;

sum_by_loop_iter_cap : Array I64 -> I64;
sum_by_loop_iter_cap = |arr| (
    Iterator::range(0, arr.get_size).loop_iter(0, |i, sum|
        if i == arr.get_size { break $ sum };
        continue $ sum + arr.@(i)
    )
);

main : IO ();
main = (
    let arr = Array::from_map(100000, |i| i);
    assert_eq(|_|"sum_by_loop_iter_cap", sum_by_loop_iter_cap(arr), 4999950000);;
    pure()
);