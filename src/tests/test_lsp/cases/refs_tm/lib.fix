module Lib;

// TM-1: cursor on trait member declaration (line 3, col 4)
trait a : Describable {
    describe : a -> String;
}

// TM-2: cursor on impl member definition LHS (line 8, col 4)
impl I64 : Describable {
    describe = |n| n.to_string;
}

// TM-3: cursor on trait member usage in GV RHS (line 13, col 16)
show : [a : Describable] a -> String;
show = |x| x.describe;

// For TM-4: project-specific trait member
trait a : Formatter {
    my_format : a -> String;
}

impl F64 : Formatter {
    my_format = |x| x.to_string;
}

type Vec2 = unbox struct { x: F64, y: F64 };

// TM-4: cursor on my_format usage in impl RHS (line 29, col 24)
impl Vec2 : Describable {
    describe = |v| v.@x.my_format + ", " + v.@y.my_format;
}
