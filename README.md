Fix-lang: Fix Programming Language
====

## Overview

Fix is a purely functional programming language that focuses on ease of learning, usability, and fun.

You can try Fix in the [Fix playground](https://tttmmmyyyy.github.io/fixlang-playground/).

Concepts: 
- **Syntax that combines the advantages of functional and OOP languages** 
  - For example, if you have an array of integers called `fib` and you want to display it on the screen, you can write any of the following:
    -  `println(fib.to_iter.map(to_string).join(", "))` 
    -  `println $ fib.to_iter.map(to_string).join(", ")`
    -  `fib.to_iter.map(to_string).join(", ").println`
- **In-place update** 
  - Since Fix uses reference counting for memory management, it can update uniquely referenced values in place while being purely functional.
  - As an example, look at the program below that calculates the Fibonacci sequence. In this code, the array is never cloned when modified by the `set` function.
  - This allows Fix to implement algorithms naturally using arrays and hash tables, while remaining purely functional.
- **Performance** 
  - While Fix is still undergoing benchmarking and optimization, Fix can achieve performance comparable to C++ in a few simple programs that I have tested.
  - One of Fix's goals is to compile high-level code into high-performance code without introducing low-level concepts such as "reference" and "lifetime" into the language.

The following is an example program that calculates the Fibonacci sequence using Fix:
```
module Main;

calc_fib : I64 -> Array I64;
calc_fib = |n| (
    let arr = Array::fill(n, 0);
    let arr = arr.set(0, 1);
    let arr = arr.set(1, 1);
    let arr = loop((2, arr), |(idx, arr)|
        if idx == arr.get_size {
            break $ arr
        } else {
            let x = arr.@(idx-1);
            let y = arr.@(idx-2);
            let arr = arr.set(idx, x+y);
            continue $ (idx+1, arr)
        }
    );
    arr
);

main : IO ();
main = (
    let fib = calc_fib(30);
    println("The first 30 numbers of Fibonacci sequence are: ");;
    println $ fib.to_iter.map(to_string).join(", ")
);
```

## Features

- Functional:
  - First-class functions (a.k.a. closures)
  - Pattern matching
  - Higher kinded types
  - Traits
  - Associated types
  - Syntax for monads (distinct from `do` in Haskell)
  - Type inference
  - Built-in lens functions
- Memory management & mutability:
  - In-place update of values using reference counting
  - Memory safety and thread safety
  - No memory leak achieved by avoiding cyclic references syntactically
- Ad hoc overloading
- Multithreading
- Foreign function interface (FFI)

## Examples

- [Basic syntax](https://tttmmmyyyy.github.io/fixlang-playground/index.html?src2=Ly8gRWFjaCBzb3VyY2UgZmlsZSBoYXMgdG8gc3RhcnQgd2l0aCBtb2R1bGUgZGVjbGFyYXRpb24uDQptb2R1bGUgTWFpbjsNCg0KLy8gRGVjbGFyYXRpb24gYW5kIGRlZmluaXRpb24gb2YgZ2xvYmFsIHZhbHVlLg0KLy8gYEk2NGAgaXMgdGhlIHR5cGUgb2YgNjQtYml0IGludGVnZXJzLg0KdHJ1dGggOiBJNjQ7DQp0cnV0aCA9IDQyOyANCg0KLy8gRGVjbGFyYXRpb24gYW5kIGRlZmluaXRpb24gb2YgZ2xvYmFsIChyZWN1cnNpdmUpIGZ1bmN0aW9uLg0KLy8gVG8gZGVmaW5lIGZ1bmN0aW9uLCB3cml0ZSBgfGFyZzAsIGFyZzEsIC4uLnwgKGZ1bmN0aW9uIGJvZHkpYC4NCi8vIChQYXJlbnRoZXNlcyBhcm91bmQgYChmdW5jdGlvbiBib2R5KWAgaXMgbm90IG1hbmRhdG9yeS4pDQovLyBOb3RlIHRoYXQgRml4IGlzIGFuIGV4cHJlc3Npb24gYmFzZWQgbGFuZ3VhZ2UuIFlvdSBkb24ndCBuZWVkIHRvIHdyaXRlICJyZXR1cm4gc3RhdGVtZW50Ii4NCmNhbGNfZmliIDogSTY0IC0%2BIEk2NDsNCmNhbGNfZmliID0gfG58ICgNCiAgICBpZiBuIDw9IDEgeyBuIH0gZWxzZSB7IGNhbGNfZmliKG4tMSkgKyBjYWxjX2ZpYihuLTIpIH0NCik7DQoNCmNhbGNfZmliMiA6IEk2NCAtPiBJNjQ7DQpjYWxjX2ZpYjIgPSB8bnwgKA0KICAgIC8vIEFub3RoZXIgc3ludGF4IG9mIGBpZmAsIGBpZiAoY29uZCkgeyAodGhlbiBleHByKSB9OyAoZWxzZSBleHByKWAsIGNhbiBiZSB1c2VkIHRvIHdyaXRlIGVhcmx5IHJldHVybi4NCiAgICBpZiBuIDw9IDEgeyBuIH07DQoNCiAgICAvLyBVc2UgYGxldGAgdG8gZGVmaW5lIGEgbG9jYWwgbmFtZS4NCiAgICBsZXQgeCA9IGNhbGNfZmliMihuLTEpOw0KICAgIGxldCB5ID0gY2FsY19maWIyKG4tMik7DQogICAgeCArIHkNCik7DQoNCnRydXRoMiA6IEk2NDsNCnRydXRoMiA9ICgNCiAgICAvLyBZb3UgY2FuIGRlZmluZSBsb2NhbCBmdW5jdGlvbiAoY2xvc3VyZSkgbGlrZSB0aGlzLiBgZmAgaGFzIHR5cGUgYEk2NCAtPiBJNjQgLT4gSTY0IC0%2BIEk2NGAuDQogICAgbGV0IGYgPSB8YSwgYiwgY3wgKGEgKyBiKSAqIGM7DQoNCiAgICAvLyBQYXJ0aWFsIGFwcGxpY2F0aW9uLiBgZG91YmxlYCBoYXMgdHlwZSBgSTY0IC0%2BIEk2NGAgYW5kIG1hcHMgYGNgIHRvIGAoMSArIDEpICogYyA9PSAyICogY2AuDQogICAgbGV0IGRvdWJsZSA9IGYoMSwgMSk7DQoNCiAgICAvLyBSaWdodC1hc3NvY2lhdGl2ZSBvcGVyYXRvciBgJGAgYXBwbGllcyBhIGZ1bmN0aW9uIHRvIGEgdmFsdWU6IGBmICQgeCA9PSBmKHgpYCBhbmQgYGYgJCBnICQgeCA9PSBmKGcoeCkpYC4NCiAgICBsZXQgdHdlbHZlID0gZG91YmxlICQgZG91YmxlICQgMzsNCg0KICAgIC8vIGAuYCBpcyBhbm90aGVyIG9wZXJhdG9yIHRvIGFwcGx5IGEgZnVuY3Rpb246IGB4LmYgPT0gZih4KWAuDQogICAgLy8gSXQgaGFzIGxvd2VyIHByaW9yaXR5IHRoYW4gdXN1YWwgZnVuY3Rpb24gY2FsbCwgc28gYDMuZigxLCAyKSA9PSBmKDEsIDIpKDMpID09IGYoMSwgMiwgMylgLg0KICAgIGxldCBuaW5lID0gMy5mKDEsIDIpOw0KDQogICAgZG91YmxlICQgbmluZSArIHR3ZWx2ZQ0KKTsNCg0KLy8gRml4IHByb2dyYW0gY2FsbHMgYE1haW46Om1haW5gIChpLmUuLCBgbWFpbmAgb2YgYE1haW5gIG1vZHVsZSkgYXMgdGhlIGVudHJ5IHBvaW50Lg0KLy8gYE1haW46Om1haW5gIG11c3QgaGF2ZSB0eXBlIGBJTyAoKWAsIHdoZXJlIGBJTyBhYCBpcyB0aGUgdHlwZSBvZiBJL08gYWN0aW9ucyB3aGljaCByZXR1cm4gYSB2YWx1ZSBvZiB0eXBlIGBhYC4NCi8vIGAoKWAgaXMgdGhlIHVuaXQgdHlwZSwgd2hpY2ggaGFzIGEgdW5pcXVlIHZhbHVlIGFsc28gd3JpdHRlbiBhcyBgKClgLg0KbWFpbiA6IElPICgpOw0KbWFpbiA9ICgNCiAgICAvLyBgcHJpbnRsbiA6IFN0cmluZyAtPiBJTyAoKWAgbWFrZXMgYW4gSS9PIGFjdGlvbiB0aGF0IHByaW50cyBhIHN0cmluZyAoYW5kIGEgbmV3bGluZSkuDQogICAgLy8gUm91Z2hseSBzcGVha2luZywgYGFjdDs7YCBwZXJmb3JtcyB0aGUgSS9PIGFjdGlvbiBgYWN0YCBhbmQgaWdub3JlcyBpdHMgcmV0dXJuIHZhbHVlLg0KICAgIHByaW50bG4gJCAidHJ1dGggOiAiICsgdHJ1dGgudG9fc3RyaW5nOzsNCiAgICBwcmludGxuICQgInRydXRoMiA6ICIgKyB0cnV0aDIudG9fc3RyaW5nOzsNCiAgICBwcmludGxuICQgImNhbGNfZmliKDEwKSA6ICIgKyBjYWxjX2ZpYigxMCkudG9fc3RyaW5nOzsNCiAgICBwcmludGxuICQgImNhbGNfZmliMigxMCkgOiAiICsgY2FsY19maWIyKDEwKS50b19zdHJpbmc7Ow0KDQogICAgLy8gYHB1cmUgOiBhIC0%2BIElPIGFgIGNyZWF0ZXMgYW4gSS9PIGFjdGlvbiB3aGljaCBkb2VzIG5vdGhpbmcgYW5kIG9ubHkgcmV0dXJucyBhIHZhbHVlLiANCiAgICAvLyBCeSBhIHN5bnRheCBzdWdhciwgeW91IGNhbiB3cml0ZSBgcHVyZSgpYCBpbnN0ZWFkIG9mIGBwdXJlKCgpKWAuDQogICAgcHVyZSgpDQopOw%3D%3D)
- [Array and loop](https://tttmmmyyyy.github.io/fixlang-playground/index.html?src2=bW9kdWxlIE1haW47DQoNCi8vIFByaW50cyAzMHRoIHZhbHVlIG9mIEZpYm9uYWNjaSBzZXF1ZW5jZS4NCm1haW4gOiBJTyAoKTsNCm1haW4gPSAoDQogICAgLy8gYGZpbGwgOiBJNjQgLT4gYSAtPiBBcnJheSBhYCBpbiBuYW1lc3BhY2UgYFN0ZDo6QXJyYXlgIGNyZWF0ZXMgYW4gYXJyYXkgb2Ygc3BlY2lmaWVkIGxlbmd0aCBhbmQgZmlsbGVkIGJ5IGEgdmFsdWUuDQogICAgbGV0IGFyciA9IEFycmF5OjpmaWxsKDMxLCAwKTsNCiAgICAvLyBgc2V0YCBvZiB0eXBlIGBJNjQgLT4gYSAtPiBBcnJheSBhIC0%2BIEFycmF5IGFgIGluc2VydCBhIHZhbHVlIGludG8gYW4gYXJyYXkuDQogICAgLy8gYHNldGAgdXBkYXRlcyB0aGUgZ2l2ZW4gYXJyYXkgaW4gTygxKSBpZiB0aGUgcmVmZXJlbmNlIGNvdW50ZXIgaXMgb25lLCANCiAgICAvLyBvciBpbnNlcnRzIGEgdmFsdWUgYWZ0ZXIgY2xvbmluZyB0aGUgYXJyYXkgKGl0IHRha2VzIE8obikpIG90aGVyd2lzZS4NCiAgICBsZXQgYXJyID0gYXJyLnNldCgwLCAwKTsNCiAgICBsZXQgYXJyID0gYXJyLnNldCgxLCAxKTsNCiAgICAvLyBBIHdheSBmb3IgbG9vcCBpcyB0byB1c2UgYGxvb3BgLCBgY29udGludWVgIGFuZCBgYnJlYWtgLg0KICAgIC8vIGxvb3AgOiBzIC0%2BIExvb3BTdGF0ZSBzIHIgLT4gciAtLSBUYWtlcyB0aGUgaW5pdGlhbCBzdGF0ZSBhbmQgbG9vcCBib2R5LCBhbmQgcGVyZm9ybXMgbG9vcC4NCiAgICAvLyBjb250aW51ZSA6IHMgLT4gTG9vcFN0YXRlIHMgciAtLSBUYWtlcyB0aGUgbmV4dCBzdGF0ZSBhbmQgY29udGludWVzIHRoZSBsb29wLg0KICAgIC8vIGJyZWFrIDogciAtPiBMb29wU3RhdGUgcyByIC0tIEJyZWFrcyB0aGUgbG9vcCBhbmQgcmV0dXJucyB0aGUgZ2l2ZW4gdmFsdWUuDQogICAgbGV0IGFyciA9IGxvb3AoKDIsIGFyciksIHwoaWR4LCBhcnIpfA0KICAgICAgICBpZiBpZHggPT0gYXJyLmdldF9zaXplIHsNCiAgICAgICAgICAgIGJyZWFrICQgYXJyDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAvLyBUbyBnZXQgYSB2YWx1ZSBvZiBhbiBhcnJheSwgdXNlIGBAIDogSTY0IC0%2BIEFycmF5IGEgLT4gYWAuDQogICAgICAgICAgICBsZXQgeCA9IGFyci5AKGlkeC0xKTsNCiAgICAgICAgICAgIGxldCB5ID0gYXJyLkAoaWR4LTIpOw0KICAgICAgICAgICAgbGV0IGFyciA9IGFyci5zZXQoaWR4LCB4K3kpOw0KICAgICAgICAgICAgY29udGludWUgJCAoaWR4KzEsIGFycikNCiAgICAgICAgfQ0KICAgICk7DQogICAgcHJpbnRsbiAkIGFyci5AKDMwKS50b19zdHJpbmcgLy8gODMyMDQwDQopOw%3D%3D)
- [Structs](https://tttmmmyyyy.github.io/fixlang-playground/index.html?src2=bW9kdWxlIE1haW47DQoNCi8vIFlvdSBjYW4gZGVmaW5lIHN0cnVjdCBhcyBmb2xsb3dzOg0KLy8gYEY2NGAgaXMgdGhlIHR5cGUgb2YgNjQtYml0IGZsb2F0aW5nIHZhbHVlcy4NCnR5cGUgUXVhbnRpdHkgPSBzdHJ1Y3QgeyB2YWx1ZSA6IEY2NCwgdW5pdCA6IFN0cmluZyB9Ow0KDQpuYW1lc3BhY2UgUXVhbnRpdHkgew0KDQogICAgbWFrZSA6IEY2NCAtPiBTdHJpbmcgLT4gUXVhbnRpdHk7DQogICAgbWFrZSA9IHx2YWwsIHVuaXR8ICgNCiAgICAgICAgLy8gQ29uc3RydWN0aW9uIG9mIGEgc3RydWN0IHZhbHVlLg0KICAgICAgICBRdWFudGl0eSB7IHZhbHVlIDogdmFsLCB1bml0IDogdW5pdCB9DQogICAgKTsNCg0KICAgIHN0cmluZ2lmeSA6IFF1YW50aXR5IC0%2BIFN0cmluZzsNCiAgICBzdHJpbmdpZnkgPSB8cXwgKA0KICAgICAgICAvLyBUbyBnZXQgYSBmaWVsZCB2YWx1ZSwgdXNlIHRoZSBmdW5jdGlvbiBgQChmaWVsZCBuYW1lKSA6IChTdHJ1Y3QpIC0%2BIChGaWVsZFR5cGUpYC4NCiAgICAgICAgcS5AdmFsdWUudG9fc3RyaW5nICsgIiAiICsgcS5AdW5pdA0KICAgICk7DQoNCiAgICBhZGQgOiBRdWFudGl0eSAtPiBRdWFudGl0eSAtPiBRdWFudGl0eTsNCiAgICAvLyBQYXR0ZXJuIG1hdGNoaW5nIGlzIGF2YWlsYWJsZSBpbiBmdW5jdGlvbiBkZWZpbml0aW9uLg0KICAgIGFkZCA9IHxRdWFudGl0eSB7IHZhbHVlIDogbGhzX3ZhbCwgdW5pdCA6IGxoc191bml0IH0sIHJoc3wgKA0KICAgICAgICAvLyBQYXR0ZXJuIG1hdGNoaW5nIGlzIGFsc28gYXZhaWxhYmxlIGluIGxldC1iaW5kaW5nLg0KICAgICAgICBsZXQgUXVhbnRpdHkgeyB2YWx1ZSA6IHJoc192YWwsIHVuaXQgOiByaHNfdW5pdCB9ID0gcmhzOw0KICAgICAgICBpZiBsaHNfdW5pdCA9PSByaHNfdW5pdCB7DQogICAgICAgICAgICBRdWFudGl0eSB7IHZhbHVlIDogbGhzX3ZhbCArIHJoc192YWwsIHVuaXQgOiBsaHNfdW5pdCB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB1bmRlZmluZWQoImBhZGRgIGZvciBkaWZmZXJlbnQgdW5pdHMhIikNCiAgICAgICAgfQ0KICAgICk7DQoNCiAgICAvLyAiMy4wIGtnIiAqICIyLjAgbSIgPT0gIjYuMCBrZyBtIg0KICAgIG11bCA6IFF1YW50aXR5IC0%2BIFF1YW50aXR5IC0%2BIFF1YW50aXR5Ow0KICAgIG11bCA9IHxyaHMsIGxoc3wgKCAvLyBOb3RlIHRoYXQgYGxocy5tdWwocmhzKSA9PSBtdWwocmhzLCBsaHMpYCwgc28gd2UgY2FsbCB0aGUgZmlyc3QgYXJndW1lbnQgYXMgYHJoc2AuDQogICAgICAgIGxldCB2YWwgPSBsaHMuQHZhbHVlICogcmhzLkB2YWx1ZTsNCiAgICAgICAgLy8gYHNldF8oZmllbGQgbmFtZSkgOiAoRmllbGRUeXBlKSAtPiAoU3RydWN0KSAtPiAoU3RydWN0KWAgdXBkYXRlcyBhIGZpZWxkLg0KICAgICAgICAvLyBgbW9kXyhmaWVsZCBuYW1lKSA6ICgoRmllbGRUeXBlKSAtPiAoRmllbGRUeXBlKSkgLT4gKFN0cnVjdCkgLT4gKFN0cnVjdClgIHRyYW5zZm9ybXMgYSBmaWVsZC4NCiAgICAgICAgbGhzLnNldF92YWx1ZSh2YWwpLm1vZF91bml0KHx1fCB1ICsgIiAiICsgcmhzLkB1bml0KQ0KICAgICk7DQoNCiAgICAvLyBQYWlyIChvciB0dXBsZSkgaXMgYSBzcGVjaWFsIHN0cnVjdCB3aXRoIGZpZWxkcyBgMGAgYW5kIGAxYC4NCiAgICAvLyBGaWVsZCBhY2Nlc3NvciBmdW5jdGlvbnMgYEAwYCwgYEAxYCwgc2V0dGUvbW9kaWZpZXIgZnVuY3Rpb25zIGBzZXRfMGAsIGBzZXRfMWAsIGBtb2RfMGAsIGBtb2RfMWANCiAgICAvLyBhbmQgcGF0dGVybiBtYXRjaGluZyBhcmUgYXZhaWxhYmxlIGFzIHdlbGwgYXMgdXNlci1kZWZpbmVkIHN0cnVjdHMuDQogICAgZnJvbV9wYWlyIDogKEY2NCwgU3RyaW5nKSAtPiBRdWFudGl0eTsNCiAgICBmcm9tX3BhaXIgPSB8KHZhbCwgdW5pdCl8IG1ha2UodmFsLCB1bml0KTsNCn0NCg0KLy8gWW91IGNhbiBhbHNvIGRlZmluZSBhIGdlbmVyaWMgc3RydWN0IHBhcmFtZXRyaXplZCBieSBhIHR5cGUgdmFyaWFibGU6DQp0eXBlIFF1YW50aXR5MiBhID0gc3RydWN0IHsgdmFsdWUgOiBhLCB1bml0IDogU3RyaW5nIH07DQoNCm5hbWVzcGFjZSBRdWFudGl0eTIgew0KICAgIG1ha2UgOiBhIC0%2BIFN0cmluZyAtPiBRdWFudGl0eTIgYTsNCiAgICBtYWtlID0gfHZhbCwgdW5pdHwgUXVhbnRpdHkyIHsgdmFsdWUgOiB2YWwsIHVuaXQgOiB1bml0IH07DQoNCiAgICBzdHJpbmdpZnkgOiBbYSA6IFRvU3RyaW5nXSBRdWFudGl0eTIgYSAtPiBTdHJpbmc7DQogICAgc3RyaW5naWZ5ID0gfHF8IHEuQHZhbHVlLnRvX3N0cmluZyArICIgIiArIHEuQHVuaXQ7DQp9DQoNCm1haW4gOiBJTyAoKTsNCm1haW4gPSAoDQogICAgbGV0IHggPSBRdWFudGl0eTo6bWFrZSgxLjAsICJrZyIpOw0KICAgIGxldCB5ID0gUXVhbnRpdHk6Om1ha2UoMi4wLCAia2ciKTsNCiAgICBsZXQgeiA9IFF1YW50aXR5OjptYWtlKDMuMCwgIm0iKTsNCiAgICBsZXQgcSA9IHguYWRkKHkpLm11bCh6KTsgLy8gKDEuMCBrZyArIDIuMCBrZykgKiAzLjAgbSANCiAgICBwcmludGxuICQgcS5zdHJpbmdpZnk7Ow0KICAgIGxldCBxMiA9IFF1YW50aXR5Mjo6bWFrZSg0MiwgInMiKTsgLy8gcTIgOiBRdWFudGl0eTIgSTY0DQogICAgcHJpbnRsbiAkIHEyLnN0cmluZ2lmeTs7DQogICAgcHVyZSgpDQopOw0K)
- [Unions](https://tttmmmyyyy.github.io/fixlang-playground/index.html?src2=bW9kdWxlIE1haW47DQoNCnBpIDogRjY0Ow0KcGkgPSAzLjE0MTU5MjY1MzU4OTc5MzsNCg0KLy8gVGFnZ2VkIHVuaW9uIGNhbiBiZSBkZWZpbmVkIGFzIGZvbGxvd3M6DQp0eXBlIEFuZ2xlID0gdW5pb24geyByYWRpYW46IEY2NCwgZGVncmVlOiBGNjQgfTsNCg0KLy8gWW91IGNhbiBkZWZpbmUgZ2VuZXJpYyB1bmlvbnMgYnkgd3JpdGluZyBgdHlwZSBTb21lVW5pb24gYSA9IHVuaW9uIHsgLi4uKHVzZSB0eXBlIGBhYCBmb3IgdHlwZSBvZiBmaWVsZHMpLi4uIH07YA0KDQpuYW1lc3BhY2UgQW5nbGUgew0KICAgIHRvX2RlZ3JlZSA6IEFuZ2xlIC0%2BIEFuZ2xlOw0KICAgIHRvX2RlZ3JlZSA9IHxhfCAoDQogICAgICAgIC8vIGBpc18odmFyaWFudCkgOiAoVW5pb24pIC0%2BIEJvb2xgIGNoZWNrcyB3aGV0aGVyIHRoZSB1bmlvbiB2YWx1ZSBpcyBhIHNwZWNpZmljIHZhcmlhbnQuDQogICAgICAgIGlmIGEuaXNfZGVncmVlIHsgYSB9Ow0KICAgICAgICAvLyBgKHZhcmlhbnQpIDogKFZhcmlhbnRUeXBlKSAtPiAoVW5pb24pYCBjb25zdHJ1Y3RzIGFuIHVuaW9uIHZhbHVlLg0KICAgICAgICAvLyBgYXNfKHZhcmlhbnQpIDogKFVuaW9uKSAtPiAoVmFyaWFudFR5cGUpYCBleHRyYWN0cyBhIHZhbHVlIGZyb20gYW4gdW5pb24gdmFsdWUgKG9yIHBhbmljcykuDQogICAgICAgIEFuZ2xlOjpkZWdyZWUoYS5hc19yYWRpYW4gKiAxODAuMCAvIHBpKQ0KICAgICk7DQoNCiAgICBzdHJpbmdpZnlfYXNfZGVncmVlIDogQW5nbGUgLT4gU3RyaW5nOw0KICAgIHN0cmluZ2lmeV9hc19kZWdyZWUgPSB8YXwgKA0KICAgICAgICBsZXQgYSA9IGEudG9fZGVncmVlOw0KICAgICAgICBhLmFzX2RlZ3JlZS50b19zdHJpbmcgKyAiIGRlZyIgDQogICAgKTsNCn0NCg0KbWFpbiA6IElPICgpOw0KbWFpbiA9ICgNCiAgICBwcmludGxuICQgQW5nbGU6OnJhZGlhbihwaSAvIDYuMCkuc3RyaW5naWZ5X2FzX2RlZ3JlZSAvLyAzMCBkZWdyZWUNCik7DQo%3D)
- [Traits](https://tttmmmyyyy.github.io/fixlang-playground/index.html?src2=bW9kdWxlIE1haW47DQoNCi8vIFlvdSBjYW4gZGVmaW5lIGEgdHJhaXQgYW5kIGltcGxlbWVudCBpdCBhcyBmb2xsb3dzOg0KdHJhaXQgYSA6IFNlbGZJbnRyb2R1Y3Rpb24gew0KICAgIC8vIEFuIElPIGFjdGlvbiB3aGljaCBpbnRyb2R1Y2VzIHRoZSBnaXZlbiB2YWx1ZS4NCiAgICBpbnRyb2R1Y2Vfc2VsZiA6IGEgLT4gSU8gKCk7DQp9DQoNCmltcGwgSTY0IDogU2VsZkludHJvZHVjdGlvbiB7DQogICAgaW50cm9kdWNlX3NlbGYgPSB8bnwgcHJpbnRsbiAkICJIaSEgSSdtIGEgNjQtYml0IGludGVnZXIgIiArIG4udG9fc3RyaW5nICsgIiEiOw0KfQ0KDQovKg0KYEVxYCB0cmFpdCBpcyBkZWZpbmVkIGluIHN0YW5kYXJkIGxpYnJhcnkgYXMgZm9sbG93czogDQoNCmBgYA0KdHJhaXQgYSA6IEVxIHsNCiAgICBlcSA6IGEgLT4gYSAtPiBCb29sDQp9DQpgYGANCg0KRXhwcmVzc2lvbiBgeCA9PSB5YCBpcyBpbnRlcnByZXRlZCBhcyBgRXE6OmVxKHgsIHkpYC4NCiovDQoNCi8vIEFzIGFub3RoZXIgZXhhbXBsZSwgDQp0eXBlIFBhaXIgYSBiID0gc3RydWN0IHsgZnN0OiBhLCBzbmQ6IGIgfTsNCg0KLy8gSW4gdGhlIHRyYWl0IGltcGxlbWVudGF0aW9uLCB5b3UgY2FuIHNwZWNpZnkgcHJlY29uZGl0aW9ucyBvbiB0eXBlIHZhcmlhYmxlcyBpbiBgW11gIGJyYWNrZXQgYWZ0ZXIgYGltcGxgLg0KaW1wbCBbYSA6IEVxLCBiIDogRXFdIFBhaXIgYSBiIDogRXEgew0KICAgIGVxID0gfGxocywgcmhzfCAoDQogICAgICAgIGxocy5AZnN0ID09IHJocy5AZnN0ICYmIGxocy5Ac25kID09IHJocy5Ac25kDQogICAgKTsNCn0NCg0KLy8gWW91IGNhbiBzcGVjaWZ5IHByZWNvbmRpdGlvbnMgb2YgdHlwZSB2YXJpYWJsZXMgaW4gdGhlIGBbXWAgYnJhY2tldCBiZWZvcmUgdHlwZSBzaWduYXR1cmUuDQpzZWFyY2ggOiBbYSA6IEVxXSBhIC0%2BIEFycmF5IGEgLT4gSTY0Ow0Kc2VhcmNoID0gfGVsZW0sIGFycnwgbG9vcCgwLCB8aWR4fA0KICAgIGlmIGlkeCA9PSBhcnIuZ2V0X3NpemUgeyBicmVhayAkIC0xIH07DQogICAgaWYgYXJyLkAoaWR4KSA9PSBlbGVtIHsgYnJlYWsgJCBpZHggfTsNCiAgICBjb250aW51ZSAkIChpZHggKyAxKQ0KKTsNCg0KLy8gQW4gZXhhbXBsZSBvZiBkZWZpbmluZyBoaWdoZXIta2luZGVkIHRyYWl0Lg0KLy8gQWxsIHR5cGUgdmFyaWFibGUgaGFzIGtpbmQgYCpgIGJ5IGRlZmF1bHQsIGFuZCBhbnkga2luZCBvZiBoaWdoZXIta2luZGVkIHR5cGUgdmFyaWFibGUgbmVlZCB0byBiZSBhbm5vdGVkIGV4cGxpY2l0bHkuDQp0cmFpdCBbZiA6ICotPipdIGYgOiBNeUZ1bmN0b3Igew0KICAgIG15bWFwIDogKGEgLT4gYikgLT4gZiBhIC0%2BIGYgYjsNCn0NCg0KLy8gQW4gZXhhbXBsZSBvZiBpbXBsZW1lbnRpbmcgaGlnaGVyLWtpbmRlZCB0cmFpdC4NCi8vIGBBcnJheWAgaXMgYSB0eXBlIG9mIGtpbmQgYCogLT4gKmAsIHNvIG1hdGNoZXMgdG8gdGhlIGtpbmQgb2YgdHJhaXQgYE15RnVuY3RvcmAuDQppbXBsIEFycmF5IDogTXlGdW5jdG9yIHsNCiAgICBteW1hcCA9IHxmLCBhcnJ8ICgNCiAgICAgICAgQXJyYXk6OmZyb21fbWFwKGFyci5nZXRfc2l6ZSwgfGlkeHwgZihhcnIuQChpZHgpKSkNCiAgICApOw0KfQ0KDQptYWluIDogSU8gKCk7DQptYWluID0gKA0KICAgIGxldCBhcnIgPSBBcnJheTo6ZnJvbV9tYXAoNiwgfHh8IHgpOyAvLyBhcnIgPSBbMCwxLDIsLi4uLDldLg0KICAgIGxldCBhcnIgPSBhcnIubXltYXAofHh8IFBhaXIgeyBmc3Q6IHggJSAyLCBzbmQ6IHggJSAzIH0pOyAvLyBhcnIgPSBbKDAsIDApLCAoMSwgMSksICgwLCAyKSwgLi4uXS4NCiAgICBsZXQgeCA9IGFyci5zZWFyY2goUGFpciB7IGZzdDogMSwgc25kOiAyfSk7IC8vIDUsIHRoZSBmaXJzdCBudW1iZXIgeCBzdWNoIHRoYXQgeCAlIDIgPT0gMSBhbmQgeCAlIDMgPT0gMi4NCiAgICB4LmludHJvZHVjZV9zZWxmDQopOw%3D%3D)
- [Iterators](https://tttmmmyyyy.github.io/fixlang-playground/index.html?src2=bW9kdWxlIE1haW47DQoNCi8vIENhbGN1bGF0ZXMgZ3JlYXRlc3QgY29tbW9uIGRpdmlzb3Igb2YgdHdvIGludGVnZXJzLg0KZ2NkIDogSTY0IC0%2BIEk2NCAtPiBJNjQ7DQpnY2QgPSB8biwgbXwgKA0KICAgIGlmIG4gPiBtIHsgZ2NkKG0sIG4pIH07DQogICAgaWYgbiA9PSAwIHsgbSB9IGVsc2UgeyBnY2QobSAlIG4sIG4pIH0NCik7DQoNCi8vIENvdW50IGRpdmlzb3JzIG9mIGEgbnVtYmVyLg0KLy8gRm9yIGV4YW1wbGUsIGRpdmlzb3JzIG9mIDEwMCBhcmUgMSwgMiwgNCwgNSwgMTAsIDIwLCAyNSwgNTAsIDEwMCwgDQovLyB3aGljaCBjYW4gYmUgZ3JvdXBlZCBpbnRvIGFzIHsxLCAxMDB9LCB7MiwgNTB9LCB7NCwgMjV9LCB7MTB9Lg0KLy8gU28gYGNvdW50X2RpdnMoMTAwKSA9PSAyICsgMiArIDIgKyAyICsgMWAuIA0KY291bnRfZGl2cyA6IEk2NCAtPiBJNjQ7DQpjb3VudF9kaXZzID0gfG58ICgNCiAgICBJdGVyYXRvcjo6Y291bnRfdXAoMSkgLy8gR2VuZXJhdGUgYW4gaW5maW5pdGUgaXRlcmF0b3IgYDEsIDIsIDMsIC4uLmAgd2hpY2ggYXJlIGNhbmRpZGF0ZXMgZm9yIGRpdmlzb3JzIG9mIGBuYC4NCiAgICAgICAgLnRha2Vfd2hpbGUofGR8IGQqZCA8PSBuKSAvLyBUYWtlIGVsZW1lbnRzIGxlc3MgdGhhbiBvciBlcXVhbCB0byByb290IG9mIGBuYC4NCiAgICAgICAgLmZpbHRlcih8ZHwgbiVkID09IDApIC8vIFRha2Ugb25seSBkaXZpc29ycy4NCiAgICAgICAgLm1hcCh8ZHwgaWYgZCpkID09IG4geyAxIH0gZWxzZSB7IDIgfSkgLy8gQ29udmVydCBhIGRpdmlzb3IgaW50byB0aGUgc2l6ZSBvZiB0aGUgZ3JvdXAgaXQgYmVsb25ncyB0by4NCiAgICAgICAgLmZvbGQoMCwgQWRkOjphZGQpIC8vIFN1bSB1cCB0aGUgaXRlcmF0b3IuIGBmb2xkYCBmb2xkcyBhbiBpdGVyYXRvciBieSBhbiBvcGVyYXRvciAodHdvLXZhcmlhYmxlIGZ1bmN0aW9uKS4gDQogICAgICAgIC8vIGBBZGQ6OmFkZCA6IEk2NCAtPiBJNjQgLT4gSTY0YCBhZGRzIHR3byBpbnRlZ2Vycy4NCik7DQoNCi8vIEluZmluaXRlIGl0ZXJhdG9yIG9mIHBvc2l0aXZlIHJhdGlvbmFsIG51bWJlcnMgbGVzcyB0aGFuIDEuDQpyYXRpb25hbHMgOiBEeW5JdGVyYXRvciAoSTY0LCBJNjQpOyAvLyBQYWlyIG9mIG51bWVyYXRvciBhbmQgZGVub21pbmF0b3IuDQpyYXRpb25hbHMgPSAoDQogICAgSXRlcmF0b3I6OmNvdW50X3VwKDEpIC8vIEl0ZXJhdG9yIG9mIGRlbm9taW5hdG9ycw0KICAgICAgICAubWFwKHxkfCAoDQogICAgICAgICAgICBJdGVyYXRvcjo6cmFuZ2UoMSwgZCkgLy8gSXRlcmF0b3Igb2YgbnVtZXJhdG9ycw0KICAgICAgICAgICAgICAgIC5maWx0ZXIofG58IGdjZChuLCBkKSA9PSAxKSAvLyBGaWx0ZXIgb3V0IG51bWVyYXRvcnMgd2hpY2ggaGFzIGNvbW1vbiBmYWN0b3Igd2l0aCB0aGUgZGVub21pbmF0b3IuDQogICAgICAgICAgICAgICAgLm1hcCh8bnwgKG4sIGQpKSAvLyBNYWtlIHBhaXIgb2YgbnVtZXJhdG9yIGFuZCBkZW5vbWluYXRvci4NCiAgICAgICAgKSkNCiAgICAgICAgLmZsYXR0ZW4NCiAgICAgICAgLnRvX2R5bg0KKTsNCg0Kc3RyaW5naWZ5X3JhdGlvbmFsIDogKEk2NCwgSTY0KSAtPiBTdHJpbmc7DQpzdHJpbmdpZnlfcmF0aW9uYWwgPSB8KG4sIGQpfCBuLnRvX3N0cmluZyArICIvIiArIGQudG9fc3RyaW5nOw0KDQptYWluIDogSU8gKCk7DQptYWluID0gKA0KICAgIHByaW50bG4gJCAiTnVtYmVyIG9mIGRpdmlzb3JzIG9mIDEwMCBpcyAiICsgY291bnRfZGl2cygxMDApLnRvX3N0cmluZyArICIuIjs7DQogICAgcHJpbnRsbiAkICJGaXJzdCAxMDAgcmF0aW9uYWxzIDogIiArIHJhdGlvbmFscy50YWtlKDEwMCkubWFwKHN0cmluZ2lmeV9yYXRpb25hbCkuam9pbigiLCAiKTs7DQogICAgcHVyZSgpDQopOw0K)
- For more, see [examples](./examples/).

## Usage

- See [the tutorial](./Document.md#tutorial) for instructions on how to install and use Fix compiler.

## Documents

* [Tutorial and language specification](/Document.md)
* [チュートリアルと言語仕様（日本語）](/Document-ja.md)
* [Document for all modules in the default registry](https://tttmmmyyyy.github.io/fixlang-docpage-generator/)
* [Change log](/CHANGELOG.md)
* 紹介（日本語）：[HaskellとRustを足して2で割ったような関数型言語Fixを作っている話](https://qiita.com/tttmmmyyyy/items/ddb1c44efd81e3fc2370)

## Third-party licenses

See [this page](https://tttmmmyyyy.github.io/fixlang/third-party-licenses.html).

## Discord

* https://discord.gg/ad4GakEA7R
* Mostly Japanese speakers here, but English is also welcome!
