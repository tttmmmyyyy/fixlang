Fix-lang: Fix Programming Language
====

## Overview

Fix is a functional programming language focused on ease of learning and use.

You can try Fix in [fix playground](https://tttmmmyyyy.github.io/fixlang-playground/).

Concepts: 
- **Familiar syntax.** 
  - The syntax of Fix is more similar to languages such as C++ or Rust than to other functional languages such as Haskell. Even if you have never learned a functional language, you will be able to learn Fix quickly.
- **Simplicity.** 
  - We try to keep the specifications of Fix simple and small so that it is easily learned and understood.
- **Safety and efficiency.** 
  - For modern languages, memory / thread safety is a natural requirement. An outstanding language with this characteristic is Rust. Rust introduces "lifetime", "mutable references" and "borrowing rules" to achieve it, but these language features complicate the type system and put a burden on a programmer. Since Fix focuses on simplicity and ease, we go another way: Fix manages lifetime and mutability of values by reference counting.
  - Fix uses reference counter for judging mutability. For example, suppose that you are trying to make a new array by modifying an old one, like `let arr2 = arr1.set(i, v);`. If the reference counter of `arr1` is one at the call of `set(i, v)`, Fix just mutates `arr1` and call the result as `arr2`, avoiding cloning the array. This optimization enables you to implement an algorithm which needs to mutate an array in O(1) without relying something like "ST monad".
  - Of course, Fix uses reference counter for garbage collection. This ensures that values that are no longer needed are immediately released, and that no invalid memory access occurs. Moreover, Fix's syntax ensures that no circular reference is made, so Fix is free from memory leak.

Example code: 
```
module Main;

// Prints n-th value of Fibonacci sequence in O(n).
main : IO ();
main = (
    let n = 30;
    let arr = Array::fill(n+1, 0);
    let arr = arr.set(0, 0);
    let arr = arr.set(1, 1);
    let arr = loop((2, arr), |(idx, arr)|
        if idx == arr.get_size {
            break $ arr
        } else {
            let x = arr.@(idx-1);
            let y = arr.@(idx-2);
            let arr = arr.set(idx, x+y);
            continue $ (idx+1, arr)
        }
    );
    println $ arr.@(n).to_string // 832040 for n = 30
);
```
[Run in playground](https://tttmmmyyyy.github.io/fixlang-playground/index.html?src2=bW9kdWxlIE1haW47DQoNCi8vIFByaW50cyBuLXRoIHZhbHVlIG9mIEZpYm9uYWNjaSBzZXF1ZW5jZSBpbiBPKG4pLg0KbWFpbiA6IElPICgpOw0KbWFpbiA9ICgNCiAgICBsZXQgbiA9IDMwOw0KICAgIGxldCBhcnIgPSBBcnJheTo6ZmlsbChuKzEsIDApOw0KICAgIGxldCBhcnIgPSBhcnIuc2V0KDAsIDApOw0KICAgIGxldCBhcnIgPSBhcnIuc2V0KDEsIDEpOw0KICAgIGxldCBhcnIgPSBsb29wKCgyLCBhcnIpLCB8KGlkeCwgYXJyKXwNCiAgICAgICAgaWYgaWR4ID09IGFyci5nZXRfc2l6ZSB7DQogICAgICAgICAgICBicmVhayAkIGFycg0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgbGV0IHggPSBhcnIuQChpZHgtMSk7DQogICAgICAgICAgICBsZXQgeSA9IGFyci5AKGlkeC0yKTsNCiAgICAgICAgICAgIGxldCBhcnIgPSBhcnIuc2V0KGlkeCwgeCt5KTsNCiAgICAgICAgICAgIGNvbnRpbnVlICQgKGlkeCsxLCBhcnIpDQogICAgICAgIH0NCiAgICApOw0KICAgIHByaW50bG4gJCBhcnIuQChuKS50b19zdHJpbmcgLy8gODMyMDQwIGZvciBuID0gMzANCik7)

## Features

- Functional:
  - First class functions (a.k.a. closures)
  - Pattern matching
  - Higher kinded types
  - Traits
  - Associated types
  - Syntax for monads (that is different from `do` in Haskell)
  - Hindley-Milner type inference
- Ad hoc overloading
- Foreign function interface (Calling C function, managing reference counter from C side)
- Multithread programming
- Memory management / mutability:
  - Memory safety and thread safety
  - Leakless memory management by reference counting
  - In-place update of uniquely referenced arrays and structs

## Examples

- [Basic syntax](https://tttmmmyyyy.github.io/fixlang-playground/index.html?src2=Ly8gRWFjaCBzb3VyY2UgZmlsZSBoYXMgdG8gc3RhcnQgd2l0aCBtb2R1bGUgZGVjbGFyYXRpb24uDQptb2R1bGUgTWFpbjsNCg0KLy8gRGVjbGFyYXRpb24gYW5kIGRlZmluaXRpb24gb2YgZ2xvYmFsIHZhbHVlLg0KLy8gYEk2NGAgaXMgdGhlIHR5cGUgb2YgNjQtYml0IGludGVnZXJzLg0KdHJ1dGggOiBJNjQ7DQp0cnV0aCA9IDQyOyANCg0KLy8gRGVjbGFyYXRpb24gYW5kIGRlZmluaXRpb24gb2YgZ2xvYmFsIChyZWN1cnNpdmUpIGZ1bmN0aW9uLg0KLy8gVG8gZGVmaW5lIGZ1bmN0aW9uLCB3cml0ZSBgfGFyZzAsIGFyZzEsIC4uLnwgKGZ1bmN0aW9uIGJvZHkpYC4NCi8vIChQYXJlbnRoZXNlcyBhcm91bmQgYChmdW5jdGlvbiBib2R5KWAgaXMgbm90IG1hbmRhdG9yeS4pDQovLyBOb3RlIHRoYXQgRml4IGlzIGFuIGV4cHJlc3Npb24gYmFzZWQgbGFuZ3VhZ2UuIFlvdSBkb24ndCBuZWVkIHRvIHdyaXRlICJyZXR1cm4gc3RhdGVtZW50Ii4NCmNhbGNfZmliIDogSTY0IC0%2BIEk2NDsNCmNhbGNfZmliID0gfG58ICgNCiAgICBpZiBuIDw9IDEgeyBuIH0gZWxzZSB7IGNhbGNfZmliKG4tMSkgKyBjYWxjX2ZpYihuLTIpIH0NCik7DQoNCmNhbGNfZmliMiA6IEk2NCAtPiBJNjQ7DQpjYWxjX2ZpYjIgPSB8bnwgKA0KICAgIC8vIEFub3RoZXIgc3ludGF4IG9mIGBpZmAsIGBpZiAoY29uZCkgeyAodGhlbiBleHByKSB9OyAoZWxzZSBleHByKWAsIGNhbiBiZSB1c2VkIHRvIHdyaXRlIGVhcmx5IHJldHVybi4NCiAgICBpZiBuIDw9IDEgeyBuIH07DQoNCiAgICAvLyBVc2UgYGxldGAgdG8gZGVmaW5lIGEgbG9jYWwgbmFtZS4NCiAgICBsZXQgeCA9IGNhbGNfZmliMihuLTEpOw0KICAgIGxldCB5ID0gY2FsY19maWIyKG4tMik7DQogICAgeCArIHkNCik7DQoNCnRydXRoMiA6IEk2NDsNCnRydXRoMiA9ICgNCiAgICAvLyBZb3UgY2FuIGRlZmluZSBsb2NhbCBmdW5jdGlvbiAoY2xvc3VyZSkgbGlrZSB0aGlzLiBgZmAgaGFzIHR5cGUgYEk2NCAtPiBJNjQgLT4gSTY0IC0%2BIEk2NGAuDQogICAgbGV0IGYgPSB8YSwgYiwgY3wgKGEgKyBiKSAqIGM7DQoNCiAgICAvLyBQYXJ0aWFsIGFwcGxpY2F0aW9uLiBgZG91YmxlYCBoYXMgdHlwZSBgSTY0IC0%2BIEk2NGAgYW5kIG1hcHMgYGNgIHRvIGAoMSArIDEpICogYyA9PSAyICogY2AuDQogICAgbGV0IGRvdWJsZSA9IGYoMSwgMSk7DQoNCiAgICAvLyBSaWdodC1hc3NvY2lhdGl2ZSBvcGVyYXRvciBgJGAgYXBwbGllcyBhIGZ1bmN0aW9uIHRvIGEgdmFsdWU6IGBmICQgeCA9PSBmKHgpYCBhbmQgYGYgJCBnICQgeCA9PSBmKGcoeCkpYC4NCiAgICBsZXQgdHdlbHZlID0gZG91YmxlICQgZG91YmxlICQgMzsNCg0KICAgIC8vIGAuYCBpcyBhbm90aGVyIG9wZXJhdG9yIHRvIGFwcGx5IGEgZnVuY3Rpb246IGB4LmYgPT0gZih4KWAuDQogICAgLy8gSXQgaGFzIGxvd2VyIHByaW9yaXR5IHRoYW4gdXN1YWwgZnVuY3Rpb24gY2FsbCwgc28gYDMuZigxLCAyKSA9PSBmKDEsIDIpKDMpID09IGYoMSwgMiwgMylgLg0KICAgIGxldCBuaW5lID0gMy5mKDEsIDIpOw0KDQogICAgZG91YmxlICQgbmluZSArIHR3ZWx2ZQ0KKTsNCg0KLy8gRml4IHByb2dyYW0gY2FsbHMgYE1haW46Om1haW5gIChpLmUuLCBgbWFpbmAgb2YgYE1haW5gIG1vZHVsZSkgYXMgdGhlIGVudHJ5IHBvaW50Lg0KLy8gYE1haW46Om1haW5gIG11c3QgaGF2ZSB0eXBlIGBJTyAoKWAsIHdoZXJlIGBJTyBhYCBpcyB0aGUgdHlwZSBvZiBJL08gYWN0aW9ucyB3aGljaCByZXR1cm4gYSB2YWx1ZSBvZiB0eXBlIGBhYC4NCi8vIGAoKWAgaXMgdGhlIHVuaXQgdHlwZSwgd2hpY2ggaGFzIGEgdW5pcXVlIHZhbHVlIGFsc28gd3JpdHRlbiBhcyBgKClgLg0KbWFpbiA6IElPICgpOw0KbWFpbiA9ICgNCiAgICAvLyBgcHJpbnRsbiA6IFN0cmluZyAtPiBJTyAoKWAgbWFrZXMgYW4gSS9PIGFjdGlvbiB0aGF0IHByaW50cyBhIHN0cmluZyAoYW5kIGEgbmV3bGluZSkuDQogICAgLy8gUm91Z2hseSBzcGVha2luZywgcHJlZml4IG9wZXJhdG9yIGArYWN0YCBwZXJmb3JtcyB0aGUgSS9PIGFjdGlvbiBgYWN0YCBhbmQgaWdub3JlcyBpdHMgcmV0dXJuIHZhbHVlLg0KICAgIHByaW50bG4gJCAidHJ1dGggOiAiICsgdHJ1dGgudG9fc3RyaW5nOzsNCiAgICBwcmludGxuICQgInRydXRoMiA6ICIgKyB0cnV0aDIudG9fc3RyaW5nOzsNCiAgICBwcmludGxuICQgImNhbGNfZmliKDEwKSA6ICIgKyBjYWxjX2ZpYigxMCkudG9fc3RyaW5nOzsNCiAgICBwcmludGxuICQgImNhbGNfZmliMigxMCkgOiAiICsgY2FsY19maWIyKDEwKS50b19zdHJpbmc7Ow0KDQogICAgLy8gYHB1cmUgOiBhIC0%2BIElPIGFgIGNyZWF0ZXMgYW4gSS9PIGFjdGlvbiB3aGljaCBkb2VzIG5vdGhpbmcgYW5kIG9ubHkgcmV0dXJucyBhIHZhbHVlLiANCiAgICAvLyBCeSBhIHN5bnRheCBzdWdhciwgeW91IGNhbiB3cml0ZSBgcHVyZSgpYCBpbnN0ZWFkIG9mIGBwdXJlKCgpKWAuDQogICAgcHVyZSgpDQopOw%3D%3D)
- [Array and loop](https://tttmmmyyyy.github.io/fixlang-playground/index.html?src2=bW9kdWxlIE1haW47DQoNCi8vIFByaW50cyAzMHRoIHZhbHVlIG9mIEZpYm9uYWNjaSBzZXF1ZW5jZS4NCm1haW4gOiBJTyAoKTsNCm1haW4gPSAoDQogICAgLy8gYGZpbGwgOiBJNjQgLT4gYSAtPiBBcnJheSBhYCBpbiBuYW1lc3BhY2UgYFN0ZDo6QXJyYXlgIGNyZWF0ZXMgYW4gYXJyYXkgb2Ygc3BlY2lmaWVkIGxlbmd0aCBhbmQgZmlsbGVkIGJ5IGEgdmFsdWUuDQogICAgbGV0IGFyciA9IEFycmF5OjpmaWxsKDMxLCAwKTsNCiAgICAvLyBgc2V0YCBvZiB0eXBlIGBJNjQgLT4gYSAtPiBBcnJheSBhIC0%2BIEFycmF5IGFgIGluc2VydCBhIHZhbHVlIGludG8gYW4gYXJyYXkuDQogICAgLy8gYHNldGAgdXBkYXRlcyB0aGUgZ2l2ZW4gYXJyYXkgaW4gTygxKSBpZiB0aGUgcmVmZXJlbmNlIGNvdW50ZXIgaXMgb25lLCANCiAgICAvLyBvciBpbnNlcnRzIGEgdmFsdWUgYWZ0ZXIgY2xvbmluZyB0aGUgYXJyYXkgKGl0IHRha2VzIE8obikpIG90aGVyd2lzZS4NCiAgICBsZXQgYXJyID0gYXJyLnNldCgwLCAwKTsNCiAgICBsZXQgYXJyID0gYXJyLnNldCgxLCAxKTsNCiAgICAvLyBBIHdheSBmb3IgbG9vcCBpcyB0byB1c2UgYGxvb3BgLCBgY29udGludWVgIGFuZCBgYnJlYWtgLg0KICAgIC8vIGxvb3AgOiBzIC0%2BIExvb3BSZXN1bHQgcyByIC0%2BIHIgLS0gVGFrZXMgdGhlIGluaXRpYWwgc3RhdGUgYW5kIGxvb3AgYm9keSwgYW5kIHBlcmZvcm1zIGxvb3AuDQogICAgLy8gY29udGludWUgOiBzIC0%2BIExvb3BSZXN1bHQgcyByIC0tIFRha2VzIHRoZSBuZXh0IHN0YXRlIGFuZCBjb250aW51ZXMgdGhlIGxvb3AuDQogICAgLy8gYnJlYWsgOiByIC0%2BIExvb3BSZXN1bHQgcyByIC0tIEJyZWFrcyB0aGUgbG9vcCBhbmQgcmV0dXJucyB0aGUgZ2l2ZW4gdmFsdWUuDQogICAgbGV0IGFyciA9IGxvb3AoKDIsIGFyciksIHwoaWR4LCBhcnIpfA0KICAgICAgICBpZiBpZHggPT0gYXJyLmdldF9zaXplIHsNCiAgICAgICAgICAgIGJyZWFrICQgYXJyDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAvLyBUbyBnZXQgYSB2YWx1ZSBvZiBhbiBhcnJheSwgdXNlIGBAIDogSTY0IC0%2BIEFycmF5IGEgLT4gYWAuDQogICAgICAgICAgICBsZXQgeCA9IGFyci5AKGlkeC0xKTsNCiAgICAgICAgICAgIGxldCB5ID0gYXJyLkAoaWR4LTIpOw0KICAgICAgICAgICAgbGV0IGFyciA9IGFyci5zZXQoaWR4LCB4K3kpOw0KICAgICAgICAgICAgY29udGludWUgJCAoaWR4KzEsIGFycikNCiAgICAgICAgfQ0KICAgICk7DQogICAgcHJpbnRsbiAkIGFyci5AKDMwKS50b19zdHJpbmcgLy8gODMyMDQwDQopOw%3D%3D)
- [Structs](https://tttmmmyyyy.github.io/fixlang-playground/index.html?src2=bW9kdWxlIE1haW47DQoNCi8vIFlvdSBjYW4gZGVmaW5lIHN0cnVjdCBhcyBmb2xsb3dzOg0KLy8gYEY2NGAgaXMgdGhlIHR5cGUgb2YgNjQtYml0IGZsb2F0aW5nIHZhbHVlcy4NCnR5cGUgUXVhbnRpdHkgPSBzdHJ1Y3QgeyB2YWx1ZSA6IEY2NCwgdW5pdCA6IFN0cmluZyB9Ow0KDQpuYW1lc3BhY2UgUXVhbnRpdHkgew0KDQogICAgbWFrZSA6IEY2NCAtPiBTdHJpbmcgLT4gUXVhbnRpdHk7DQogICAgbWFrZSA9IHx2YWwsIHVuaXR8ICgNCiAgICAgICAgLy8gQ29uc3RydWN0aW9uIG9mIGEgc3RydWN0IHZhbHVlLg0KICAgICAgICBRdWFudGl0eSB7IHZhbHVlIDogdmFsLCB1bml0IDogdW5pdCB9DQogICAgKTsNCg0KICAgIHN0cmluZ2lmeSA6IFF1YW50aXR5IC0%2BIFN0cmluZzsNCiAgICBzdHJpbmdpZnkgPSB8cXwgKA0KICAgICAgICAvLyBUbyBnZXQgYSBmaWVsZCB2YWx1ZSwgdXNlIHRoZSBmdW5jdGlvbiBgQChmaWVsZCBuYW1lKSA6IChTdHJ1Y3QpIC0%2BIChGaWVsZFR5cGUpYC4NCiAgICAgICAgcS5AdmFsdWUudG9fc3RyaW5nICsgIiAiICsgcS5AdW5pdA0KICAgICk7DQoNCiAgICBhZGQgOiBRdWFudGl0eSAtPiBRdWFudGl0eSAtPiBRdWFudGl0eTsNCiAgICAvLyBQYXR0ZXJuIG1hdGNoaW5nIGlzIGF2YWlsYWJsZSBpbiBmdW5jdGlvbiBkZWZpbml0aW9uLg0KICAgIGFkZCA9IHxRdWFudGl0eSB7IHZhbHVlIDogbGhzX3ZhbCwgdW5pdCA6IGxoc191bml0IH0sIHJoc3wgKA0KICAgICAgICAvLyBQYXR0ZXJuIG1hdGNoaW5nIGlzIGFsc28gYXZhaWxhYmxlIGluIGxldC1iaW5kaW5nLg0KICAgICAgICBsZXQgUXVhbnRpdHkgeyB2YWx1ZSA6IHJoc192YWwsIHVuaXQgOiByaHNfdW5pdCB9ID0gcmhzOw0KICAgICAgICBpZiBsaHNfdW5pdCA9PSByaHNfdW5pdCB7DQogICAgICAgICAgICBRdWFudGl0eSB7IHZhbHVlIDogbGhzX3ZhbCArIHJoc192YWwsIHVuaXQgOiBsaHNfdW5pdCB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB1bmRlZmluZWQoImBhZGRgIGZvciBkaWZmZXJlbnQgdW5pdHMhIikNCiAgICAgICAgfQ0KICAgICk7DQoNCiAgICAvLyAiMy4wIGtnIiAqICIyLjAgbSIgPT0gIjYuMCBrZyBtIg0KICAgIG11bCA6IFF1YW50aXR5IC0%2BIFF1YW50aXR5IC0%2BIFF1YW50aXR5Ow0KICAgIG11bCA9IHxyaHMsIGxoc3wgKCAvLyBOb3RlIHRoYXQgYGxocy5tdWwocmhzKSA9PSBtdWwocmhzLCBsaHMpYCwgc28gd2UgY2FsbCB0aGUgZmlyc3QgYXJndW1lbnQgYXMgYHJoc2AuDQogICAgICAgIGxldCB2YWwgPSBsaHMuQHZhbHVlICogcmhzLkB2YWx1ZTsNCiAgICAgICAgLy8gYHNldF8oZmllbGQgbmFtZSkgOiAoRmllbGRUeXBlKSAtPiAoU3RydWN0KSAtPiAoU3RydWN0KWAgdXBkYXRlcyBhIGZpZWxkLg0KICAgICAgICAvLyBgbW9kXyhmaWVsZCBuYW1lKSA6ICgoRmllbGRUeXBlKSAtPiAoRmllbGRUeXBlKSkgLT4gKFN0cnVjdCkgLT4gKFN0cnVjdClgIHRyYW5zZm9ybXMgYSBmaWVsZC4NCiAgICAgICAgbGhzLnNldF92YWx1ZSh2YWwpLm1vZF91bml0KHx1fCB1ICsgIiAiICsgcmhzLkB1bml0KQ0KICAgICk7DQoNCiAgICAvLyBQYWlyIChvciB0dXBsZSkgaXMgYSBzcGVjaWFsIHN0cnVjdCB3aXRoIGZpZWxkcyBgMGAgYW5kIGAxYC4NCiAgICAvLyBGaWVsZCBhY2Nlc3NvciBmdW5jdGlvbnMgYEAwYCwgYEAxYCwgc2V0dGUvbW9kaWZpZXIgZnVuY3Rpb25zIGBzZXRfMGAsIGBzZXRfMWAsIGBtb2RfMGAsIGBtb2RfMWANCiAgICAvLyBhbmQgcGF0dGVybiBtYXRjaGluZyBhcmUgYXZhaWxhYmxlIGFzIHdlbGwgYXMgdXNlci1kZWZpbmVkIHN0cnVjdHMuDQogICAgZnJvbV9wYWlyIDogKEY2NCwgU3RyaW5nKSAtPiBRdWFudGl0eTsNCiAgICBmcm9tX3BhaXIgPSB8KHZhbCwgdW5pdCl8IG1ha2UodmFsLCB1bml0KTsNCn0NCg0KLy8gWW91IGNhbiBhbHNvIGRlZmluZSBhIGdlbmVyaWMgc3RydWN0IHBhcmFtZXRyaXplZCBieSBhIHR5cGUgdmFyaWFibGU6DQp0eXBlIFF1YW50aXR5MiBhID0gc3RydWN0IHsgdmFsdWUgOiBhLCB1bml0IDogU3RyaW5nIH07DQoNCm5hbWVzcGFjZSBRdWFudGl0eTIgew0KICAgIG1ha2UgOiBhIC0%2BIFN0cmluZyAtPiBRdWFudGl0eTIgYTsNCiAgICBtYWtlID0gfHZhbCwgdW5pdHwgUXVhbnRpdHkyIHsgdmFsdWUgOiB2YWwsIHVuaXQgOiB1bml0IH07DQoNCiAgICBzdHJpbmdpZnkgOiBbYSA6IFRvU3RyaW5nXSBRdWFudGl0eTIgYSAtPiBTdHJpbmc7DQogICAgc3RyaW5naWZ5ID0gfHF8IHEuQHZhbHVlLnRvX3N0cmluZyArICIgIiArIHEuQHVuaXQ7DQp9DQoNCm1haW4gOiBJTyAoKTsNCm1haW4gPSAoDQogICAgbGV0IHggPSBRdWFudGl0eTo6bWFrZSgxLjAsICJrZyIpOw0KICAgIGxldCB5ID0gUXVhbnRpdHk6Om1ha2UoMi4wLCAia2ciKTsNCiAgICBsZXQgeiA9IFF1YW50aXR5OjptYWtlKDMuMCwgIm0iKTsNCiAgICBsZXQgcSA9IHguYWRkKHkpLm11bCh6KTsgLy8gKDEuMCBrZyArIDIuMCBrZykgKiAzLjAgbSANCiAgICBwcmludGxuICQgcS5zdHJpbmdpZnk7Ow0KICAgIGxldCBxMiA9IFF1YW50aXR5Mjo6bWFrZSg0MiwgInMiKTsgLy8gcTIgOiBRdWFudGl0eTIgSTY0DQogICAgcHJpbnRsbiAkIHEyLnN0cmluZ2lmeTs7DQogICAgcHVyZSgpDQopOw0K)
- [Unions](https://tttmmmyyyy.github.io/fixlang-playground/index.html?src2=bW9kdWxlIE1haW47DQoNCnBpIDogRjY0Ow0KcGkgPSAzLjE0MTU5MjY1MzU4OTc5MzsNCg0KLy8gVGFnZ2VkIHVuaW9uIGNhbiBiZSBkZWZpbmVkIGFzIGZvbGxvd3M6DQp0eXBlIEFuZ2xlID0gdW5pb24geyByYWRpYW46IEY2NCwgZGVncmVlOiBGNjQgfTsNCg0KLy8gWW91IGNhbiBkZWZpbmUgZ2VuZXJpYyB1bmlvbnMgYnkgd3JpdGluZyBgdHlwZSBTb21lVW5pb24gYSA9IHVuaW9uIHsgLi4uKHVzZSB0eXBlIGBhYCBmb3IgdHlwZSBvZiBmaWVsZHMpLi4uIH07YA0KDQpuYW1lc3BhY2UgQW5nbGUgew0KICAgIHRvX2RlZ3JlZSA6IEFuZ2xlIC0%2BIEFuZ2xlOw0KICAgIHRvX2RlZ3JlZSA9IHxhfCAoDQogICAgICAgIC8vIGBpc18odmFyaWFudCkgOiAoVW5pb24pIC0%2BIEJvb2xgIGNoZWNrcyB3aGV0aGVyIHRoZSB1bmlvbiB2YWx1ZSBpcyBhIHNwZWNpZmljIHZhcmlhbnQuDQogICAgICAgIGlmIGEuaXNfZGVncmVlIHsgYSB9Ow0KICAgICAgICAvLyBgKHZhcmlhbnQpIDogKFZhcmlhbnRUeXBlKSAtPiAoVW5pb24pYCBjb25zdHJ1Y3RzIGFuIHVuaW9uIHZhbHVlLg0KICAgICAgICAvLyBgYXNfKHZhcmlhbnQpIDogKFVuaW9uKSAtPiAoVmFyaWFudFR5cGUpYCBleHRyYWN0cyBhIHZhbHVlIGZyb20gYW4gdW5pb24gdmFsdWUgKG9yIHBhbmljcykuDQogICAgICAgIEFuZ2xlOjpkZWdyZWUoYS5hc19yYWRpYW4gKiAxODAuMCAvIHBpKQ0KICAgICk7DQoNCiAgICBzdHJpbmdpZnlfYXNfZGVncmVlIDogQW5nbGUgLT4gU3RyaW5nOw0KICAgIHN0cmluZ2lmeV9hc19kZWdyZWUgPSB8YXwgKA0KICAgICAgICBsZXQgYSA9IGEudG9fZGVncmVlOw0KICAgICAgICBhLmFzX2RlZ3JlZS50b19zdHJpbmcgKyAiIGRlZyIgDQogICAgKTsNCn0NCg0KbWFpbiA6IElPICgpOw0KbWFpbiA9ICgNCiAgICBwcmludGxuICQgQW5nbGU6OnJhZGlhbihwaSAvIDYuMCkuc3RyaW5naWZ5X2FzX2RlZ3JlZSAvLyAzMCBkZWdyZWUNCik7DQo%3D)
- [Traits](https://tttmmmyyyy.github.io/fixlang-playground/index.html?src2=bW9kdWxlIE1haW47DQoNCi8vIFlvdSBjYW4gZGVmaW5lIGEgdHJhaXQgYW5kIGltcGxlbWVudCBpdCBhcyBmb2xsb3dzOg0KdHJhaXQgYSA6IFNlbGZJbnRyb2R1Y3Rpb24gew0KICAgIC8vIEFuIElPIGFjdGlvbiB3aGljaCBpbnRyb2R1Y2VzIHRoZSBnaXZlbiB2YWx1ZS4NCiAgICBpbnRyb2R1Y2Vfc2VsZiA6IGEgLT4gSU8gKCk7DQp9DQoNCmltcGwgSTY0IDogU2VsZkludHJvZHVjdGlvbiB7DQogICAgaW50cm9kdWNlX3NlbGYgPSB8bnwgcHJpbnRsbiAkICJIaSEgSSdtIGEgNjQtYml0IGludGVnZXIgIiArIG4udG9fc3RyaW5nICsgIiEiOw0KfQ0KDQovKg0KYEVxYCB0cmFpdCBpcyBkZWZpbmVkIGluIHN0YW5kYXJkIGxpYnJhcnkgYXMgZm9sbG93czogDQoNCmBgYA0KdHJhaXQgYSA6IEVxIHsNCiAgICBlcSA6IGEgLT4gYSAtPiBCb29sDQp9DQpgYGANCg0KRXhwcmVzc2lvbiBgeCA9PSB5YCBpcyBpbnRlcnByZXRlZCBhcyBgRXE6OmVxKHgsIHkpYC4NCiovDQoNCi8vIEFzIGFub3RoZXIgZXhhbXBsZSwgDQp0eXBlIFBhaXIgYSBiID0gc3RydWN0IHsgZnN0OiBhLCBzbmQ6IGIgfTsNCg0KLy8gSW4gdGhlIHRyYWl0IGltcGxlbWVudGF0aW9uLCB5b3UgY2FuIHNwZWNpZnkgcHJlY29uZGl0aW9ucyBvbiB0eXBlIHZhcmlhYmxlcyBpbiBgW11gIGJyYWNrZXQgYWZ0ZXIgYGltcGxgLg0KaW1wbCBbYSA6IEVxLCBiIDogRXFdIFBhaXIgYSBiIDogRXEgew0KICAgIGVxID0gfGxocywgcmhzfCAoDQogICAgICAgIGxocy5AZnN0ID09IHJocy5AZnN0ICYmIGxocy5Ac25kID09IHJocy5Ac25kDQogICAgKTsNCn0NCg0KLy8gWW91IGNhbiBzcGVjaWZ5IHByZWNvbmRpdGlvbnMgb2YgdHlwZSB2YXJpYWJsZXMgaW4gdGhlIGBbXWAgYnJhY2tldCBiZWZvcmUgdHlwZSBzaWduYXR1cmUuDQpzZWFyY2ggOiBbYSA6IEVxXSBhIC0%2BIEFycmF5IGEgLT4gSTY0Ow0Kc2VhcmNoID0gfGVsZW0sIGFycnwgbG9vcCgwLCB8aWR4fA0KICAgIGlmIGlkeCA9PSBhcnIuZ2V0X3NpemUgeyBicmVhayAkIC0xIH07DQogICAgaWYgYXJyLkAoaWR4KSA9PSBlbGVtIHsgYnJlYWsgJCBpZHggfTsNCiAgICBjb250aW51ZSAkIChpZHggKyAxKQ0KKTsNCg0KLy8gQW4gZXhhbXBsZSBvZiBkZWZpbmluZyBoaWdoZXIta2luZGVkIHRyYWl0Lg0KLy8gQWxsIHR5cGUgdmFyaWFibGUgaGFzIGtpbmQgYCpgIGJ5IGRlZmF1bHQsIGFuZCBhbnkga2luZCBvZiBoaWdoZXIta2luZGVkIHR5cGUgdmFyaWFibGUgbmVlZCB0byBiZSBhbm5vdGVkIGV4cGxpY2l0bHkuDQp0cmFpdCBbZiA6ICotPipdIGYgOiBNeUZ1bmN0b3Igew0KICAgIG15bWFwIDogKGEgLT4gYikgLT4gZiBhIC0%2BIGYgYjsNCn0NCg0KLy8gQW4gZXhhbXBsZSBvZiBpbXBsZW1lbnRpbmcgaGlnaGVyLWtpbmRlZCB0cmFpdC4NCi8vIGBBcnJheWAgaXMgYSB0eXBlIG9mIGtpbmQgYCogLT4gKmAsIHNvIG1hdGNoZXMgdG8gdGhlIGtpbmQgb2YgdHJhaXQgYE15RnVuY3RvcmAuDQppbXBsIEFycmF5IDogTXlGdW5jdG9yIHsNCiAgICBteW1hcCA9IHxmLCBhcnJ8ICgNCiAgICAgICAgQXJyYXk6OmZyb21fbWFwKGFyci5nZXRfc2l6ZSwgfGlkeHwgZihhcnIuQChpZHgpKSkNCiAgICApOw0KfQ0KDQptYWluIDogSU8gKCk7DQptYWluID0gKA0KICAgIGxldCBhcnIgPSBBcnJheTo6ZnJvbV9tYXAoNiwgfHh8IHgpOyAvLyBhcnIgPSBbMCwxLDIsLi4uLDldLg0KICAgIGxldCBhcnIgPSBhcnIubXltYXAofHh8IFBhaXIgeyBmc3Q6IHggJSAyLCBzbmQ6IHggJSAzIH0pOyAvLyBhcnIgPSBbKDAsIDApLCAoMSwgMSksICgwLCAyKSwgLi4uXS4NCiAgICBsZXQgeCA9IGFyci5zZWFyY2goUGFpciB7IGZzdDogMSwgc25kOiAyfSk7IC8vIDUsIHRoZSBmaXJzdCBudW1iZXIgeCBzdWNoIHRoYXQgeCAlIDIgPT0gMSBhbmQgeCAlIDMgPT0gMi4NCiAgICB4LmludHJvZHVjZV9zZWxmDQopOw%3D%3D)
- [Iterators](https://tttmmmyyyy.github.io/fixlang-playground/index.html?src2=bW9kdWxlIE1haW47DQoNCi8vIEl0ZXJhdG9yLCBhLmsuYS4gbGF6eSBsaXN0LCBpcyBkZWZpbmVkIGFzIGZvbGxvd3MuDQovLyBgdHlwZSBJdGVyYXRvciBhID0gdW5ib3ggc3RydWN0IHsgbmV4dDogKCkgLT4gT3B0aW9uIChhLCBJdGVyYXRvciBhKSB9O2ANCg0KLy8gSW5zdGVhZCBvZiBjb250YWluaW5nICJ0aGUgbmV4dCB2YWx1ZSIsIGEgbm9uLWVtcHR5IGl0ZXJhdG9yIGhhcyBhIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIGEgcGFpciBvZg0KLy8gLSB0aGUgbmV4dCB2YWx1ZSBhbmQgDQovLyAtIHRoZSBpdGVyYXRvciB0byBnZW5lcmF0ZSByZXN0IHZhbHVlcy4NCg0KLy8gSXRlcmF0b3JzIGFyZSBpbXBvcnRhbnQgdG8gd3JpdGUgcHJvZ3JhbSBpbiBhIGZ1bmN0aW9uYWwgbWFubmVyLiANCi8vIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBpbGx1c3RyYXRlcyB0aGUgcG93ZXIgb2YgaXRlcmF0b3JzLg0KDQovLyBDb3VudCBkaXZpc29ycyBvZiBhIG51bWJlci4NCi8vIEZvciBleGFtcGxlLCBkaXZpc29ycyBvZiAxMDAgYXJlIDEsIDIsIDQsIDUsIDEwLCAyMCwgMjUsIDUwLCAxMDAsIA0KLy8gd2hpY2ggY2FuIGJlIGdyb3VwZWQgaW50byBhcyB7MSwgMTAwfSwgezIsIDUwfSwgezQsIDI1fSwgezEwfS4NCi8vIFNvIGBjb3VudF9kaXZzKDEwMCkgPT0gMiArIDIgKyAyICsgMiArIDFgLiANCmNvdW50X2RpdnMgOiBJNjQgLT4gSTY0Ow0KY291bnRfZGl2cyA9IHxufCAoDQogICAgSXRlcmF0b3I6OmNvdW50X3VwKDEpIC8vIEdlbmVyYXRlIGFuIGluZmluaXRlIGl0ZXJhdG9yIGAxLCAyLCAzLCAuLi5gIHdoaWNoIGFyZSBjYW5kaWRhdGVzIGZvciBkaXZpc29ycyBvZiBgbmAuDQogICAgICAgIC50YWtlX3doaWxlKHxkfCBkKmQgPD0gbikgLy8gVGFrZSBlbGVtZW50cyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gcm9vdCBvZiBgbmAuDQogICAgICAgIC5maWx0ZXIofGR8IG4lZCA9PSAwKSAvLyBUYWtlIG9ubHkgZGl2aXNvcnMuDQogICAgICAgIC5tYXAofGR8IGlmIGQqZCA9PSBuIHsgMSB9IGVsc2UgeyAyIH0pIC8vIENvbnZlcnQgYSBkaXZpc29yIGludG8gdGhlIHNpemUgb2YgdGhlIGdyb3VwIGl0IGJlbG9uZ3MgdG8uDQogICAgICAgIC5mb2xkKDAsIEFkZDo6YWRkKSAvLyBTdW0gdXAgdGhlIGl0ZXJhdG9yLiBgZm9sZGAgZm9sZHMgYW4gaXRlcmF0b3IgYnkgYW4gb3BlcmF0b3IgKHR3by12YXJpYWJsZSBmdW5jdGlvbikuIA0KICAgICAgICAvLyBgQWRkOjphZGQgOiBJNjQgLT4gSTY0IC0%2BIEk2NGAgYWRkcyB0d28gaW50ZWdlcnMuDQopOw0KDQovLyBJbmZpbml0ZSBpdGVyYXRvciBvZiBwb3NpdGl2ZSByYXRpb25hbCBudW1iZXJzIGxlc3MgdGhhbiAxLg0KcmF0aW9uYWxzIDogSXRlcmF0b3IgKEk2NCwgSTY0KTsgLy8gUGFpciBvZiBudW1lcmF0b3IgYW5kIGRlbm9taW5hdG9yLg0KcmF0aW9uYWxzID0gKA0KICAgIEl0ZXJhdG9yOjpjb3VudF91cCgxKSAvLyBJdGVyYXRvciBvZiBkZW5vbWluYXRvcnMNCiAgICAgICAgLm1hcCh8ZHwgKA0KICAgICAgICAgICAgSXRlcmF0b3I6OnJhbmdlKDEsIGQpIC8vIEl0ZXJhdG9yIG9mIG51bWVyYXRvcnMNCiAgICAgICAgICAgICAgICAuZmlsdGVyKHxufCBnY2QobiwgZCkgPT0gMSkgLy8gRmlsdGVyIG91dCBudW1lcmF0b3JzIHdoaWNoIGhhcyBjb21tb24gZmFjdG9yIHdpdGggdGhlIGRlbm9taW5hdG9yLg0KICAgICAgICAgICAgICAgIC5tYXAofG58IChuLCBkKSkgLy8gTWFrZSBwYWlyIG9mIG51bWVyYXRvciBhbmQgZGVub21pbmF0b3IuDQogICAgICAgICkpDQogICAgICAgIC5mbGF0dGVuIC8vIGBmbGF0dGVuIDogSXRlcmF0b3IgKEl0ZXJhdG9yIGEpIC0%2BIEl0ZXJhdG9yIGFgDQopOw0KDQpzdHJpbmdpZnlfcmF0aW9uYWwgOiAoSTY0LCBJNjQpIC0%2BIFN0cmluZzsNCnN0cmluZ2lmeV9yYXRpb25hbCA9IHwobiwgZCl8IG4udG9fc3RyaW5nICsgIi8iICsgZC50b19zdHJpbmc7DQoNCi8vIENhbGN1bGF0ZXMgZ3JlYXRlc3QgY29tbW9uIGRpdmlzb3Igb2YgdHdvIG5vbi1uZWdhdGl2ZSBpbnRlZ2Vycy4NCi8vIFVzZWQgaW4gYHJhdGlvbmFsc2ANCmdjZCA6IEk2NCAtPiBJNjQgLT4gSTY0Ow0KZ2NkID0gfG4sIG18ICgNCiAgICBpZiBuID4gbSB7IGdjZChtLCBuKSB9Ow0KICAgIGlmIG4gPT0gMCB7IG0gfTsNCiAgICBnY2QobSAlIG4sIG4pDQopOw0KDQptYWluIDogSU8gKCk7DQptYWluID0gKA0KICAgIHByaW50bG4gJCAiTnVtYmVyIG9mIGRpdmlzb3JzIG9mIDEwMCBpcyAiICsgY291bnRfZGl2cygxMDApLnRvX3N0cmluZyArICIuIjs7DQogICAgcHJpbnRsbiAkICJGaXJzdCAxMDAgcmF0aW9uYWxzIDogIiArIHJhdGlvbmFscy50YWtlKDEwMCkubWFwKHN0cmluZ2lmeV9yYXRpb25hbCkuam9pbigiLCAiKTs7DQogICAgcHVyZSgpDQopOw0KDQo%3D)
- For more, see [examples](./examples/).

## Usage

- See [the tutorial](./Document.md#tutorial) for instructions on how to install and use Fix compiler.

## Documents

* [Tutorial and language specification](/Document.md)
* [Document of the `Std` module](/std_doc/Std.md)
* [Change log](/CHANGELOG.md)
* 紹介（日本語）：[HaskellとRustを足して2で割ったような関数型言語Fixを作っている話](https://qiita.com/tttmmmyyyy/items/ddb1c44efd81e3fc2370)

## Discord

* https://discord.gg/ad4GakEA7R
* Mostly Japanese speakers here, but English is also welcome!
